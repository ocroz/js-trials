<!DOCTYPE html>
<html>
<head>
  <title>is-node</title>
</head>
<body>
<script type="text/javascript">
const isNode = function () { try { return this === global } catch (e) { return false } }
const isBrowser = function () { try { return this === window } catch (e) { return false } }
// const isNode = function () { return !!(typeof process !== 'undefined' && process.versions && process.versions.node) }
// const isBrowser = function () { return !(typeof process !== 'undefined' && process.versions && process.versions.node) }

function testIsNode () {
  'use strict'
  if (isBrowser()) {
    console.log('Running under browser')
  } else if (isNode()) {
    console.log('Running under node.js')
  } else {
    throw new Error('Unknown running context')
  }
}

testIsNode()
</script>
</body>
</html>
